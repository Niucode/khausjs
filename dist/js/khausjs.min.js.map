{"version":3,"sources":["khausjs.coffee","khausjs.js"],"names":["$","khausCleanFormErrors","form","find","removeClass","remove","tooltip","khausDisplayFormErrors","settings","counter","o","extend","errorsType","errors","window","khaus","resetForm","each","key","value","arr","badge","inTab","input","page","pageName","pos","tab","match","replace","toLowerCase","parents","addClass","length","attr","class","text","appendTo","parseInt","html","placement","title","container","khausLaunchAlerts","reset","khausLaunchFormErrors","default","primary","success","danger","warning","info","template","isPlainObject","isArray","k","mensaje","Noty","type","show","khausAjaxWait","ajaxSetup","beforeSend","complete","fn","khausAttachName","this","on","ev","is","name","prependTo","khausConfirmBeforeSubmit","message","data","e","blur","preventDefault","khausConfirm","off","submit","khausAlert","modal_D1","modal_D2","modal_D3","modal_body","modal_footer","modal_header","data-dismiss","modal","khausPrompt","defaultValue","callback","input_prompt","css","font-weight","val","setTimeout","select","btnAceptar","focus","khausForm","onSubmit","onSuccess","onError","ajaxForm","delegation","response","status","xhr","$form","location","redirect","baseURL","url","tiempo","error","m","responseJSON","parseJSON","responseText","khausNumberFormat","number","khausLoadSelect","$select","fk","selected","get","r","id","nombre","removeAttr","khausClone","clon","selector","target","last","clone","newName","khausRemoveParent","insertAfter","jQuery","overrideDefaults","layout","theme","timeout","closeWith","animation","open","close"],"mappings":"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","file":"khausjs.min.js","sourcesContent":[null,"(function($) {\n\n  /* LIMPIA LOS ERRORES DEL FORMULARIO BOOTSTRAP\n   * ==========================================================================\n   * @param DOMElement form - formulario\n   * ==========================================================================\n   */\n  $.khausCleanFormErrors = function(form) {\n    $(form).find(\".form-group\").removeClass(\"has-error has-feedback\");\n    $(form).find(\"span.form-control-feedback\").remove();\n    $(form).find(\"span.help-block\").remove();\n    $(form).find(\"span.form-control-feedback\").remove();\n    return $(form).find(\":input\").tooltip(\"destroy\");\n  };\n\n  /* DESPLIEGA LOS ERRORES DE FORMULARIO\n   * ==========================================================================\n   * @param string type (block|tooltip) forma de mostrar errores\n   * @param DOMElement form - formulario que realizo el envio\n   * @param object errors - errores {'inputName':'Error Message'}\n   *\n   * En caso de que no se envie el parametro errors, buscara esos datos\n   * dentro de la variable global khaus\n   * ==========================================================================\n   */\n  $.khausDisplayFormErrors = function(settings) {\n    var counter, o;\n    o = $.extend({\n      errorsType: 'block',\n      form: null,\n      errors: window.khaus.errors,\n      resetForm: false\n    }, settings);\n    counter = 0;\n    $.each(o.errors, function(key, value) {\n      var arr, badge, inTab, input, page, pageName, pos, tab;\n      if (key.match(/^khaus/)) {\n        key = key.replace('khaus', '').toLowerCase();\n        if (typeof window.khaus[key] !== 'undefined') {\n          window.khaus[key] = value;\n          return true;\n        }\n      }\n      if (arr = key.match(/\\.([^.]+)/)) {\n        key = key.replace(arr[0], \"[\" + arr[1] + \"]\");\n      }\n      counter++;\n      input = $(o.form).find(\":input[name='\" + key + \"']\");\n      input.parents('.form-group').addClass(\"has-error\");\n      input.parents('.form-group').addClass(\"has-feedback\");\n      inTab = input.parents('.tab-content');\n      if (inTab.length > 0) {\n        if (counter === 1) {\n          $('ul.nav-tabs .badge').remove();\n        }\n        page = input.parents('.tab-pane');\n        pageName = page.attr('id');\n        tab = $(\"ul.nav-tabs a[href=#\" + pageName + \"]\");\n        badge = tab.find('.badge');\n        if (badge.length === 0) {\n          badge = $('<span>', {\n            'class': 'badge'\n          }).text(0);\n          badge.appendTo(tab);\n        }\n        badge.text(parseInt(badge.text()) + 1);\n      }\n      switch (o.errorsType) {\n        case 'block':\n          pos = input.parents('.form-group');\n          $(\"<span>\", {\n            \"class\": \"help-block\"\n          }).html(value).appendTo(pos);\n          return $(\"<span>\", {\n            \"class\": \"glyphicon glyphicon-remove form-control-feedback\"\n          }).appendTo(pos);\n        case 'tooltip':\n          return input.tooltip({\n            placement: \"top\",\n            title: value,\n            container: \"body\"\n          });\n      }\n    });\n    $.khausLaunchAlerts();\n    if (counter === 0) {\n      if (o.resetForm) {\n        return $(o.form)[0].reset();\n      }\n    }\n  };\n\n  /* MUESTRA LOS ERRORES ALMACENADOS EN LAS VARIABLES KHAUS\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausLaunchFormErrors = function() {\n    var form;\n    if (!!window.khaus.errors && !!window.khaus.form) {\n      form = $(\"form[name=\" + window.khaus.form + \"]\");\n      return $.khausDisplayFormErrors({\n        errorsType: 'block',\n        form: form\n      });\n    }\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausLaunchAlerts = function(settings) {\n    var o;\n    o = $.extend({\n      title: {\n        \"default\": \"\",\n        primary: \"\",\n        success: \"El proceso ha finalizado\",\n        danger: \"Ha ocurrido un error\",\n        warning: \"Importante\",\n        info: \"Informaci&oacute;n\"\n      }\n    }, settings);\n    return $.each(o.title, function(key, value) {\n      var template;\n      if (!!window.khaus[key]) {\n        template = key;\n        if (key === 'default') {\n          template = 'alert';\n        }\n        if (key === 'danger') {\n          template = 'error';\n        }\n        if (key === 'info') {\n          template = 'info';\n        }\n        if ($.isPlainObject(window.khaus[key]) || $.isArray(window.khaus[key])) {\n          $.each(window.khaus[key], function(k, mensaje) {\n            return new Noty({\n              text: mensaje,\n              type: template\n            }).show();\n          });\n        } else {\n          new Noty({\n            text: window.khaus[key],\n            type: template\n          }).show();\n        }\n        return window.khaus[key] = '';\n      }\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausAjaxWait = function(settings) {\n    var o;\n    o = $.extend({\n      type: 'cursor'\n    }, settings);\n    switch (o.type) {\n      case 'cursor':\n        return $.ajaxSetup({\n          beforeSend: function() {\n            return $('body').addClass('khaus-ajax-wait');\n          },\n          complete: function() {\n            return $('body').removeClass('khaus-ajax-wait');\n          },\n          success: function() {\n            return $('body').removeClass('khaus-ajax-wait');\n          }\n        });\n    }\n  };\n\n  /* ADJUNTA AL FORMULARIO EL PARAMETRO NAME\n   * ==========================================================================\n   * Si el formulario tiene el atributo [name] activado\n   * antes de realizar el envio de los parametros\n   * agrega un input hidden name=\"_name\" value=\"<nombre del formulario>\"\n   * ==========================================================================\n   */\n  $.fn.khausAttachName = function() {\n    return $.each(this, function() {\n      return $(this).on('submit', function(ev) {\n        if ($(this).is('[name]') && $(this).find('input[name=_name]').length === 0) {\n          return $('<input>', {\n            'name': '_name',\n            'type': 'hidden',\n            'value': $(this).attr('name')\n          }).prependTo($(this));\n        }\n      });\n    });\n  };\n\n  /* CAPTURA EL EVENTO SUBMIT Y ENVIA UN MODAL KHAUS CONFIRM\n   * ==========================================================================\n   * @param object settings {\n   *   title : (string) - titulo de la ventana modal\n   *   message : (string) - mensaje de la ventana modal\n   * }\n   * Al presionar el boton aceptar del modal se realizara el submit del formulario\n   * de lo contrario no se realizara ninguna accion\n   * ==========================================================================\n   */\n  $.fn.khausConfirmBeforeSubmit = function() {\n    return $.each(this, function() {\n      var message, title;\n      title = $(this).data('khaus-title' || '');\n      message = $(this).data('khaus-confirm' || '');\n      return $(this).on('submit', function(ev) {\n        var e;\n        $(':focus').blur();\n        ev.preventDefault();\n        e = $(this);\n        return $.khausConfirm(title, message, function() {\n          e.off('submit');\n          return e.submit();\n        });\n      });\n    });\n  };\n\n  /*\n   * ==========================================================================\n   * Envia un modal de alerta con las opciones aceptar y cancelar\n   * Metodos de llamada:\n   * - por codigo: $.khausAlert('Titulo', 'Mensaje');\n   * - por dom: <button data-khaus-alert=\"Mensaje\" data-khaus-title=\"Opcional\">\n   * El titulo es opcional en la llamada por dom\n   * ==========================================================================\n   */\n  $.khausAlert = function(title, message) {\n    var modal_D1, modal_D2, modal_D3, modal_body, modal_footer, modal_header;\n    if ($(\".khaus-modal-alert\").length > 0) {\n      $(\".khaus-modal-alert\").remove();\n    }\n    modal_D1 = $(\"<div>\", {\n      \"class\": \"modal fade khaus-modal-alert\"\n    });\n    modal_D2 = $(\"<div>\", {\n      \"class\": \"modal-dialog\"\n    }).appendTo(modal_D1);\n    modal_D3 = $(\"<div>\", {\n      \"class\": \"modal-content\"\n    }).appendTo(modal_D2);\n    modal_header = $(\"<div>\", {\n      \"class\": \"modal-header\"\n    }).appendTo(modal_D3);\n    $(\"<h4>\", {\n      \"class\": \"modal-title\"\n    }).html(title).appendTo(modal_header);\n    modal_body = $(\"<div>\", {\n      \"class\": \"modal-body\"\n    }).html(message).appendTo(modal_D3);\n    modal_footer = $(\"<div>\", {\n      \"class\": \"modal-footer\"\n    }).appendTo(modal_D3);\n    $(\"<button>\", {\n      \"type\": \"button\",\n      \"class\": \"btn btn-primary\",\n      \"data-dismiss\": \"modal\"\n    }).html(\"Aceptar\").appendTo(modal_footer);\n    return modal_D1.modal(\"show\");\n  };\n  $.fn.khausAlert = function() {\n    return this.each(function() {\n      return $(this).on('click', function(ev) {\n        var message, title;\n        message = $(this).data('khaus-alert');\n        title = $(this).data('khaus-title' || '');\n        return $.khausAlert(title, message);\n      });\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausPrompt = function(title, message, defaultValue, callback) {\n    var input_prompt, modal_D1, modal_D2, modal_D3, modal_body, modal_footer, modal_header;\n    if (defaultValue == null) {\n      defaultValue = \"\";\n    }\n    if (callback == null) {\n      callback = function() {};\n    }\n    if ($(\".khaus-modal-prompt\").length > 0) {\n      $(\".khaus-modal-prompt\").remove();\n    }\n    modal_D1 = $(\"<div>\", {\n      \"class\": \"modal fade khaus-modal-prompt\"\n    });\n    modal_D2 = $(\"<div>\", {\n      \"class\": \"modal-dialog\"\n    }).appendTo(modal_D1);\n    modal_D3 = $(\"<div>\", {\n      \"class\": \"modal-content\"\n    }).appendTo(modal_D2);\n    modal_header = $(\"<div>\", {\n      \"class\": \"modal-header\"\n    }).appendTo(modal_D3);\n    $(\"<h4>\", {\n      \"class\": \"modal-title\"\n    }).html(title).appendTo(modal_header);\n    modal_body = $(\"<div>\", {\n      \"class\": \"modal-body\"\n    }).appendTo(modal_D3);\n    $(\"<h5>\").css({\n      \"font-weight\": \"bold\"\n    }).html(message).appendTo(modal_body);\n    input_prompt = $(\"<input>\", {\n      \"type\": \"text\",\n      \"class\": \"form-control\"\n    }).val(defaultValue).appendTo(modal_body);\n    modal_footer = $(\"<div>\", {\n      \"class\": \"modal-footer\"\n    }).appendTo(modal_D3);\n    $(\"<button>\", {\n      \"type\": \"button\",\n      \"class\": \"btn btn-default\",\n      \"data-dismiss\": \"modal\"\n    }).html(\"Cancelar\").appendTo(modal_footer);\n    $(\"<button>\", {\n      \"type\": \"button\",\n      \"class\": \"btn btn-primary\",\n      \"data-dismiss\": \"modal\"\n    }).html(\"Aceptar\").on(\"click\", function() {\n      callback(input_prompt.val());\n    }).appendTo(modal_footer);\n    modal_D1.modal(\"show\");\n    return setTimeout(function() {\n      return input_prompt.select();\n    }, 200);\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausConfirm = function(title, message, callback) {\n    var btnAceptar, modal_D1, modal_D2, modal_D3, modal_body, modal_footer, modal_header;\n    if (callback == null) {\n      callback = function() {};\n    }\n    if ($(\".khaus-modal-confirm\").length > 0) {\n      $(\".khaus-modal-confirm\").remove();\n    }\n    modal_D1 = $(\"<div>\", {\n      \"class\": \"modal fade khaus-modal-confirm\"\n    });\n    modal_D2 = $(\"<div>\", {\n      \"class\": \"modal-dialog\"\n    }).appendTo(modal_D1);\n    modal_D3 = $(\"<div>\", {\n      \"class\": \"modal-content\"\n    }).appendTo(modal_D2);\n    modal_header = $(\"<div>\", {\n      \"class\": \"modal-header\"\n    }).appendTo(modal_D3);\n    $(\"<h4>\", {\n      \"class\": \"modal-title\"\n    }).html(title).appendTo(modal_header);\n    modal_body = $(\"<div>\", {\n      \"class\": \"modal-body\"\n    }).html(message).appendTo(modal_D3);\n    modal_footer = $(\"<div>\", {\n      \"class\": \"modal-footer\"\n    }).appendTo(modal_D3);\n    $(\"<button>\", {\n      \"type\": \"button\",\n      \"class\": \"btn btn-default\",\n      \"data-dismiss\": \"modal\"\n    }).html(\"Cancelar\").appendTo(modal_footer);\n    btnAceptar = $(\"<button>\", {\n      \"type\": \"button\",\n      \"class\": \"btn btn-primary\",\n      \"data-dismiss\": \"modal\"\n    }).html(\"Aceptar\").on(\"click\", function() {\n      callback();\n    }).appendTo(modal_footer);\n    setTimeout(function() {\n      return btnAceptar.focus();\n    }, 300);\n    return modal_D1.modal(\"show\");\n  };\n\n  /* CAMBIA EL FUNCIONAMIENTO DE LOS FORMULARIOS POR PETICIONES AJAX\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.fn.khausForm = function(settings) {\n    var o;\n    o = $.extend({\n      onSubmit: function() {},\n      onSuccess: function() {},\n      onError: function() {}\n    }, settings);\n    return $.each(this, function() {\n      var form;\n      form = $(this);\n      return form.on('submit', function(ev) {\n        o.onSubmit(form, ev);\n        return form.ajaxForm({\n          delegation: true,\n          success: function(response, status, xhr, $form) {\n            var location;\n            $.each(response, function(key, value) {\n              if (key.match(/^khaus/)) {\n                key = key.replace('khaus', '').toLowerCase();\n                if (typeof window.khaus[key] !== 'undefined') {\n                  return window.khaus[key] = value;\n                }\n              }\n            });\n            $.khausLaunchAlerts();\n            if (window.khaus.redirect !== null) {\n              if (form.data('khaus-reset') || false) {\n                $($form)[0].reset();\n              }\n              if ($.isArray(window.khaus.redirect)) {\n                setTimeout(function() {\n                  var location;\n                  location = window.khaus.redirect[0];\n                  if (!location.match(/^https?:\\/\\//i)) {\n                    location = window.baseURL + location;\n                  }\n                  return window.location = location;\n                }, window.khaus.redirect[1]);\n              } else if ($.isPlainObject(window.khaus.redirect)) {\n                $.each(window.khaus.redirect, function(url, tiempo) {\n                  return setTimeout(function() {\n                    var location;\n                    location = url;\n                    if (!location.match(/^https?:\\/\\//i)) {\n                      location = window.baseURL + location;\n                    }\n                    return window.location = location;\n                  }, tiempo);\n                });\n              } else {\n                location = window.khaus.redirect;\n                if (!location.match(/^https?:\\/\\//i)) {\n                  location = window.baseURL + location;\n                }\n                window.location = location;\n              }\n            }\n            return o.onSuccess($form, ev, response);\n          },\n          error: function(response, status, xhr, $form) {\n            var m;\n            $.khausCleanFormErrors($form);\n            if (typeof response.responseJSON !== 'undefined') {\n              m = response.responseJSON;\n            } else {\n              m = $.parseJSON(response.responseText);\n            }\n            if (m.message) {\n              new Noty({\n                text: m.message,\n                type: 'error'\n              }).show();\n            }\n            $.khausDisplayFormErrors({\n              errorsType: form.data('khaus-errortype') || 'block',\n              form: $form,\n              errors: m.errors,\n              resetForm: form.data('khaus-reset') || false\n            });\n            return o.onError($form, ev, response);\n          }\n        });\n      });\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.fn.khausNumberFormat = function() {\n    var replace;\n    replace = function(number) {\n      number = number.replace(/[^0-9]+/g, '');\n      return number = number.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n    };\n    return this.each(function() {\n      var number;\n      if ($(this).is(':input')) {\n        number = replace($(this).val());\n        return $(this).val(number);\n      } else {\n        number = replace($(this).html());\n        return $(this).html(number);\n      }\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.khausLoadSelect = function($select, url, fk, selected) {\n    $select.attr('disabled', true);\n    $select.text('');\n    return $.get(\"\" + window.baseURL + url + \"/\" + fk + \".json\", function(r) {\n      $.each(r, function() {\n        return $('<option>', {\n          value: this.id\n        }).text(this.nombre).appendTo($select);\n      });\n      $select.removeAttr('disabled');\n      if ($select.find(\"option[value=\" + selected + \"]\").length > 0) {\n        return $select.val(selected);\n      } else {\n        return $select.val($select.find('option:first').attr('value'));\n      }\n    });\n  };\n  $.fn.khausLoadSelect = function(settings) {\n    var o;\n    o = $.extend({\n      url: $(this).data('khaus-url'),\n      select: $(this).data('khaus-select'),\n      selected: $(this).data('khaus-selected' || 1)\n    }, settings);\n    return this.each(function() {\n      var $select;\n      $select = $(o.select);\n      if (this.value) {\n        $.khausLoadSelect($select, o.url, this.value, o.selected);\n      } else {\n        $select.text('');\n        $select.attr('disabled', true);\n      }\n      return $(this).on('change', function() {\n        return $.khausLoadSelect($select, o.url, this.value, o.selected);\n      });\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  $.fn.khausClone = function() {\n    return this.each(function() {\n      return $(this).on('click', function(ev) {\n        var clon, selector, target;\n        ev.preventDefault();\n        selector = $(this).data('khaus-clone');\n        target = $(selector).last();\n        clon = target.clone();\n        clon.find(':input[name]').each(function() {\n          var key, name, newName;\n          name = $(this).attr('name');\n          key = name.match(/\\[(\\d+)\\]/);\n          if (!!key) {\n            key = parseInt(key[1]);\n            newName = name.replace(\"[\" + key + \"]\", \"[\" + (key + 1) + \"]\");\n            return $(this).attr('name', newName);\n          }\n        });\n        clon.find('input').val('');\n        clon.find('select option:first').attr('selected', true);\n        clon.find(':button[data-khaus-removeparent]').khausRemoveParent();\n        return clon.insertAfter(target);\n      });\n    });\n  };\n\n  /*\n   * ==========================================================================\n   *\n   * ==========================================================================\n   */\n  return $.fn.khausRemoveParent = function() {\n    return this.each(function() {\n      return $(this).on('click', function(ev) {\n        var selector, target;\n        ev.preventDefault();\n        selector = $(this).data('khaus-removeparent');\n        target = $(this).parents(selector);\n        return target.remove();\n      });\n    });\n  };\n})(jQuery);\n\n$(function() {\n  Noty.overrideDefaults({\n    layout: 'bottomRight',\n    theme: 'metroui',\n    timeout: 8000,\n    closeWith: ['click', 'button'],\n    animation: {\n      open: 'animated bounceInRight',\n      close: 'animated bounceOutRight'\n    }\n  });\n  $('form').khausAttachName();\n  $.khausLaunchFormErrors();\n  $.khausLaunchAlerts();\n  $('form.khaus-form').khausForm();\n  $('form[data-khaus-confirm]').khausConfirmBeforeSubmit();\n  $(':button[data-khaus-clone]').khausClone();\n  $(':button[data-khaus-removeparent]').khausRemoveParent();\n  $(':button[data-khaus-alert]').khausAlert();\n  $('.khaus-numero').khausNumberFormat();\n  return $('select[data-khaus-select]').khausLoadSelect();\n});\n"],"sourceRoot":"/source/"}
